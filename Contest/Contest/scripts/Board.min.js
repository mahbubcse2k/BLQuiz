function Question(n,t,i){this.Text=n;this.Options=t;this.answer=i}function Option(n,t){this.Text=n;this.Value=t}function Board(n){this.QuestionList=n;this.currentQuestionIndex=0;this.CorrectAnswerCount=0}function poulateQuestion(n){var t=board.QuestionList[n];$("input:checked").prop("checked",!1);$(".selected").removeClass("selected");$("#txtQuestion").text("Q{0}. {1}".format(n+1,t.Text));$("#ans1").text(t.Options[0].Text);$("#ans2").text(t.Options[1].Text);$("#ans3").text(t.Options[2].Text);$("#ans4").text(t.Options[3].Text)}function showTopList(){$("#resultTemplate").tmpl(standing).appendTo("#dvPoint");$("#dvSubmit").hide();$("#dvList").show()}function validateForm(){var t,n;if($("#dvError").text(""),t=$("#txtCustomerId").val(),t=$.trim(t),t=="")return $("#dvError").text("Please provide a your Customer Id."),!1;if(n=$("#txtPhone").val(),n=$.trim(n),n.indexOf("+")==0&&(n=n.split("+")[1]),isNaN(n)||n=="")return $("#dvError").text("Please provide a valid phone number."),!1;var i=$("#txtEmail").val(),r=i.indexOf("@"),u=i.lastIndexOf(".");if(r<1||u<r+2||u+2>=i.length)return $("#dvError").text("Please provide a valid email address."),!1;$("#dvError").text("");showRules()}function submit(){$("#dvContainer").timer("stop");$("#dvContainer").hide();$("#dvSubmit").show();score=board.CorrectAnswerCount*10;$("#dvScoreMsg").text("{0}".format(score));saveResult();share()}function onNext(n){var r=board.QuestionList.length-board.currentQuestionIndex-1,u=board.QuestionList[board.currentQuestionIndex],t=$("input:checked"),i=0;t.length>0&&(i=parseInt(t.attr("index"))+1);i==u.answer&&board.CorrectAnswerCount++;r==0||n?submit():(board.currentQuestionIndex++,updateResult(),poulateQuestion(board.currentQuestionIndex))}function updateResult(){$("#dvResult").text("{0}".format(board.CorrectAnswerCount*10))}function showRules(){$("#dvLogIn").hide();$("#dvRules").show()}function startGame(){$("#dvRules").hide();$("#dvContainer").show();poulateQuestion(0);$("#dvContainer").timer("start");$(".dvOption ").click(function(){$(".selected").removeClass("selected");$(this).addClass("selected").find("input").prop("checked",!0)});$("#btnNext").click(function(){onNext(!1)})}function saveResult(){var n={},t,i;n.UserId=userId;n.UserName=userName;n.CustomerId=$("#txtCustomerId").val();n.Phone=$("#txtPhone").val();n.Email=$("#txtEmail").val();n.Score=score;n.Time=60-parseInt(time);n.Token=$("#Hidden1").val();t=json.stringify(n);i=JSON.stringify({result:t});$.ajax({type:"POST",url:"Index.aspx/AddResult",data:i,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){setTimeout(sendRequest,1e3);standing=json.parse(n.d)},error:function(){}})}function getInfo(){for(var t,r,n,e=$("#hdInfo").val(),u=[],f=json.parse(e),i=0;i<f.length;i++){for(t=f[i],r=[],n=0;n<t.Options.length;n++)r[n]=new Option(t.Options[n],n+1);u[i]=new Question(t.Text,r,t.Answer)}board=new Board(u)}var time,board,score,standing,json;String.prototype.format=function(){var n=this;for(var t in arguments)n=n.replace("{"+t+"}",arguments[t]);return n};$("#dvContainer").timer({autostart:!1,repeat:61,callback:function(n){if(time=60-n,time<0){time=0;onNext(!0);return}var t=time>9?time.toString():"0"+time;$("#dvTimer").text("00:"+t)}});board=null;score=0;standing=null;json={stringify:function(n){return btoa(JSON.stringify(n))},parse:function(n){return JSON.parse(atob(n))}};
//# sourceMappingURL=Board.min.js.map